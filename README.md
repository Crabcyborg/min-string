# min-string

The main goals of min-string are:
1. Create the shortest string possible from a given set of integers
2. Use a small set of characters that will work in a URL

min-string uses ASCII characters starting from ! (33) to ~ (126) excluding a few characters that influence the way a URL works (/\\.?#) as well as the space ( ) and comma (,).

Written with no dependencies in ES6. Can be used via npm with `yarn add min-string` or as a minified script available at https://unpkg.com/min-string@latest/min-string.min.js

The script is 8KB minified.

min-string only works on arrays of integers between 0 and 255. Compression ratios are usually within between 25% to 35% of the original size but results vary. It's intended for small data and has not been tested with large sets of data.

Read about the blog post that inspired it here https://crabcyb.org/post/minimizing-shape-up

The package is free to use for any use. I would love to know if you use it in your project.
This package is not in any way an encryption method or a security feature. There is no salt with this package. It only benefits from its obscurity.

**Benchmark**

*Using the following integer array as input*

```
27,48,0,0,0,0,31,0,0,0,0,0,127,128,0,0,0,1,255,248,0,0,0,7,255,254,0,0,0,31,255,255,0,0,0,127,255,255,0,0,0,255,255,255,0,0,127,255,255,255,0,0,255,255,255,254,0,1,255,255,255,252,12,3,255,255,255,224,19,127,255,255,252,0,33,255,255,255,254,0,65,255,255,255,254,0,129,255,255,255,254,0,15,255,255,255,254,0,8,127,255,255,255,0,16,127,255,255,255,0,16,62,127,255,255,0,32,29,191,255,254,128,32,9,111,128,204,64,0,1,107,0,102,0,0,2,98,0,35,0,0,4,70,0,33,0,0,0,132,0,16,128,0,1,8,0,0,128,0,0,8,0,0,64
```

| method | length | ratio |
| --- | --- | --- |
| raw | 497 | 100% |
| hashids | 409 | 82.3% |
| base64 | 220 | 44.3% |
| min-string | 146 | 29.4% |

*Using the following integer array as input*

```
94,89,0,0,0,0,0,0,0,0,31,192,0,0,0,0,0,0,0,0,0,31,252,0,0,0,0,0,0,0,0,0,31,255,128,0,0,0,0,0,0,0,0,31,255,224,0,0,0,0,0,0,0,0,15,255,240,0,0,0,0,0,0,0,0,15,255,248,0,0,0,0,0,0,0,0,7,255,254,0,0,0,0,0,0,0,0,7,255,255,128,0,0,0,0,0,0,0,3,255,255,240,0,0,0,0,0,0,0,1,255,255,254,0,0,0,0,0,0,0,1,255,255,255,128,0,0,0,0,0,0,0,255,255,255,240,0,0,0,0,0,0,0,127,255,255,248,0,0,0,0,0,0,0,63,255,255,252,0,0,0,0,0,0,0,63,255,255,254,0,0,0,0,0,0,0,31,255,255,254,0,0,0,0,0,0,0,15,255,255,252,0,0,0,0,0,0,0,15,255,240,0,0,0,0,0,0,0,0,7,255,248,0,0,0,0,0,0,0,0,7,255,252,0,15,128,0,0,0,0,0,7,255,254,0,3,192,0,0,0,0,0,7,255,255,0,0,248,0,0,0,0,0,7,255,255,128,0,62,0,0,0,0,0,15,255,255,192,0,7,128,0,0,0,0,63,255,255,240,0,1,240,63,254,0,7,255,255,255,248,0,0,124,127,255,255,255,255,255,255,252,0,0,31,255,255,255,255,255,255,255,254,0,0,7,255,255,255,255,255,255,255,254,0,0,3,255,255,255,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,128,0,0,127,255,255,255,255,255,255,255,192,0,0,63,255,255,255,255,255,255,255,224,0,0,31,255,255,255,255,255,255,255,240,0,0,15,255,255,255,255,255,255,255,252,0,0,7,255,255,255,255,255,255,255,254,0,0,7,255,255,255,255,255,255,255,255,0,0,3,255,255,255,255,255,255,255,255,128,0,1,255,255,255,255,255,255,255,255,192,0,1,255,255,255,255,255,255,255,255,224,0,0,255,255,255,255,255,255,255,255,240,0,0,127,255,255,255,255,255,255,255,248,0,0,63,255,255,255,255,255,255,255,252,0,0,31,255,255,255,255,255,255,255,254,0,0,15,255,255,255,255,255,255,255,255,0,0,7,255,255,255,255,255,255,255,255,128,0,3,255,255,240,63,255,255,255,255,224,0,1,255,255,240,0,255,255,255,255,224,0,0,255,255,248,0,15,255,255,255,240,0,0,127,255,252,0,1,255,255,255,248,0,0,63,255,254,0,0,127,255,255,252,0,0,31,255,255,0,0,3,255,255,252,0,0,15,255,255,128,0,0,31,255,254,0,0,7,255,255,128,0,0,3,255,255,0,0,3,255,255,224,0,0,1,255,255,128,0,1,255,255,224,0,0,0,255,255,192,0,0,255,255,240,0,0,0,127,255,192,0,0,127,255,248,0,0,0,127,255,224,0,0,63,255,252,0,0,0,63,255,240,0,0,31,255,254,0,0,0,15,255,248,0,0,31,255,254,0,0,0,7,253,252,0,0,15,255,255,0,0,0,1,254,254,0,0,7,255,255,0,0,0,0,255,127,0,0,7,255,255,0,0,0,0,127,191,128,0,3,255,255,0,0,0,0,31,207,192,0,3,254,255,0,0,0,0,15,231,224,0,1,254,255,0,0,0,0,7,243,240,0,1,254,127,0,0,0,0,3,249,248,0,0,254,127,0,0,0,0,0,252,252,0,1,254,63,0,0,0,0,0,126,62,0,0,254,63,128,0,0,0,0,63,31,0,0,126,31,128,0,0,0,0,31,143,128,0,255,15,192,0,0,0,0,7,199,192,0,127,7,224,0,0,0,0,3,243,240,0,63,1,224,0,0,0,0,1,249,248,0,31,128,240,0,0,0,0,0,252,252,0,15,128,120,0,0,0,0,0,126,126,0,7,192,60,0,0,0,0,0,31,159,0,3,224,30,0,0,0,0,0,15,207,128,1,240,15,0,0,0,0,0,7,231,192,0,248,7,128,0,0,0,0,3,243,224,0,56,3,192,0,0,0,0,1,249,240,0,30,0,224,0,0,0,0,1,252,248,0,14,0,255,0,0,0,0,0,126,60,0,7,0,63,192,0,0,0,0,31,30,0,3,192,15,224,0,0,0,0,15,143,0,1,224,7,248,0,0,0,0,7,199,240,0,240,0,0,0,0,0,0,1,227,254,0,120,0,0,0,0,0,0,0,241,255,0,60,0,0,0,0,0,0,0,124,127,192,31,192,0,0,0,0,0,0,63,227,192,15,240,0,0,0,0,0,0,31,240,0,1,252,0,0,0,0,0,0,15,248,0,0,126,0,0,0,0,0,0,1,252,0
```

| method | length | ratio |
| --- | --- | --- |
| raw | 3035 | 100% |
| hashids | 2554 | 84.2% |
| base64 | 1396 | 46% |
| min-string | 764 | 25.2% |

**min-string with values over 255**

min includes two functions that are not used internally: normalize and denormalize. These functions add support for up to 65280 (255 << 8). The same could be done for supporting higher, but even normalized a lot of the optimizations stop having a large impact.

*Using the following integer array as input*

```
45382,39879,21997,57801,33504,57965,62886,21381,27663,5423,41883,15465,7286,40781,3088,36449,5087,26306,49399,17532,10020,54815,23717,64216,17886,39151,62029,43563,22493,41747,12965,30449,17784,33757,38189,8312,1639,39239,13750,52757,14533,22112,23064,26608,33457,59061,40325,26330,42188,52670,38074,48326,35007,39373,20269,5999,39797,30605,34901,57885,58608,53333,15305,2031,23174,39775,64151,30504,32288,27314,1269,26270,3873,54064,40459,6553,35682,30033,21669,61532,26435,62728,62223,54766,1952,2075,32727,41027,55694,18158,9272,55523,40806,46183,43580,51985,19688,36259,1578,31376,57227,54712,63942,15480,55416,58655,46263,36566,42531,6853,1428,6867,39297,36416,58201,54237,3197,19216,63237,28647,15656,1261,39984,25461,12084,44160,45359,62868,61081,21354,21479,31958,6754,41375,21764,32465,4274,50637,44312,37538,11272,43036,51562,37377,35763,40441,56271,4466,21865,59961,34893,3226,9781,34943,29358,58503,20273,52046,23306,27102,6406,57452,24948,50036,42256,54449,8304,15454,23891,15643,3308,36449,56244,10841,18071,251,19489,59455,57441,16800,22387,63514,53818,9993,7793,42130,54814,62227,18969,12547,31288,56318,29050,56887,32178,29823,18958,53223,20902,8697,44031,52444,56152,13549,1440,46420,59548,29772,42696,4280,52723,60918,2557,45860,56259,61854,54444,64074,45838,36656,36123,32430,20392,38856,37624,21493,35080,5043,39218,52811,11367,28096,18088,25393,26429,2671,3870,39492,9211,49826,46723,11915,53102,27488,4918,22873,56689,57743,54465,64558,24523,27961,47635,39739,200,39758,2882,56716,15370,20384,27225,39021,37176,18022,30945,29324,48335,40225,52805,3732,15143,15537,42584,45066,16865,23677,20798,6383,48623,3069,37227,59606,47454,53323,21198,33159,40917,14633,47270,50212,45241,4823,7390,48882,11015,59678,14075,12207,50773,58631,36949,48099,1809,29851,27012,17714,38519,32292,21686,34737,64907,56321,61416,47973,46889,30877,49394,48257,49389,17764,57930,38314,25272,4935,2900,5247,19304,49602,50399,57215,23364,7448,55138,29924,1524,42809,56899,1250,64278,2770,65172,2147,9255,45155,32696,25826,51112,8826,52884,2244,5220,37362,37987,49109,46113,10178,54950,57288,1769,60076,23617,14138,61178,65110,10070,37541,4383,12311,59154,34580,25029,13676,8755,6899,33390,36634,47514,55448,46028,16727,47305,2391,47950,17095,45519,53738,5720,52201,50267,47261,17816,57203,35376,31851,60401,13574,56998,44186,36519,59025,36046,27957,28454,40042,28663,10513,40203,10693,7518,7386,32761,10480,6859,26756,53574,43819,57508,56901,24733,64313,60795,50873,36250,54701,54735,18413,2211,24315,49004,27015,42975,12694,10035,61978,43816,63676,45237,50918,18925,32973,58487,51710,15845,44439,64471,31690,50168,6733,40465,20033,26611,38097,34193,13190,45589,47169,4525,55617,25739,6872,56656,18353,43084,60867,25920,12266,59908,31610,49425,29260,10506,22753,9378,56381,49044,14751,26750,42936,58085,38323,12274,60807,18928,21329,15156,9144,26753,13558,58888,54097,62553,64980,53271,482,42925,1507,64133,40203,53516,14591,61954,47372,42332,46550,28781,1175,31813,8663,24845,38437,4060,1734,19826,57019,59062,6506,53514,45433,13223,16050,4352,51985,14068,3706,64408,11774,28948,40032,11682,4215,19935,15274,15318,13303,4705,48293,21279,3637,11736,44060,64302,2159,27942,36505,51878,30428,1674,61513,8539,52644,50159,55103,61973,669,64571,36512,9336,65220,20611,8382,63107,5587,23135,1353,45219,26836,35499,31211,3450,34507,58035,52427,49873,50898,26016,45436,48582,55474,7649,37024,43515,4926,41718,5755,23402,50449,25930,23705,27562,7997,54101,30035,25530,35998,27914,25115,10051,50475,48732,17544
```

| method | length | ratio |
| --- | --- | --- |
| raw | 3495 | 100% |
| hashids | 2381 | 68.1% |
| base64 | 1600 | 45.8% |
| min-string | 1590 | 45.5% |
